<template>
  <template if:false={error}>
    <c-application
      flexipage-region-width={flexipageRegionWidth}
      record-id={recordId}
      object-api-name={objectApiName}
      list-selection={listSelection}
      is-standalone={isStandalone}
      pod={pod}
      onrleerror={errorHandler}
    ></c-application>
  </template>
  <template if:true={error}>
    <section
      class="slds-popover slds-popover_error"
      style="z-index: unset; width: 100%;"
    >
      <header class="slds-popover__header">
        <div class="slds-media slds-media_center slds-has-flexi-truncate">
          <lightning-icon
            variant="inverse"
            size="small"
            icon-name="utility:error"
            class="slds-var-m-right_small"
          ></lightning-icon>
          <div class="slds-media__body">
            <h2
              class="slds-truncate slds-text-heading_medium"
              title="Am Error Occurred"
            >
              An Error Occurred
            </h2>
          </div>
        </div>
      </header>
      <div class="slds-popover__body">
        <p>{error}</p>
        <p>{stack}</p>
      </div>
      <footer class="slds-popover__footer">
        <div class="slds-grid slds-grid_vertical-align-center">
          Try refreshing this individual component or the page:
          <lightning-button
            label="Refresh Page"
            variant="neutral"
            onclick={reload}
            class="slds-var-m-left_small"
          ></lightning-button>
          <lightning-button
            label="Refresh Component"
            variant="brand"
            onclick={reloadComponent}
            class="slds-var-m-left_small"
          ></lightning-button>
        </div>
      </footer>
    </section>
  </template>
</template>
