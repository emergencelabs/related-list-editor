<template>
  <div
    class="slds-page-header"
    style="border-bottom-left-radius: 0; border-bottom-right-radius: 0;"
  >
    <div
      class="slds-page-header__row slds-grid slds-grid_align-center slds-grid_vertical-align-center"
    >
      <div class="slds-page-header__col-title">
        <nav
          role="navigation"
          aria-label="Breadcrumbs"
          class="slds-var-m-bottom_small"
          if:true={showBackButton}
        >
          <ol class="slds-breadcrumb slds-list_horizontal slds-wrap">
            <li class="slds-breadcrumb__item">
              <a href="#" onclick={back}>{name}</a>
            </li>
          </ol>
        </nav>
        <div class="slds-media slds-media_center">
          <div class="slds-media__figure">
            <lightning-icon icon-name={iconName} size="small"></lightning-icon>
          </div>
          <div class="slds-media__body">
            <div class="slds-page-header__name">
              <div class="slds-page-header__name-title">
                <h2 class="slds-card__header-title" if:true={allowEditModal}>
                  <a
                    href="#"
                    onclick={viewAll}
                    class="slds-card__header-link baseCard__header-title-container"
                    ><span
                      class="slds-truncate slds-var-m-right_xx-small"
                      title={listName}
                      >{listLabel}</span
                    ><span
                      class="slds-shrink-none slds-var-m-right_xx-small"
                      title={count}
                      >({count})</span
                    >
                  </a>
                </h2>
                <h2 class="slds-card__header-title" if:false={allowEditModal}>
                  <span
                    class="slds-card__header-link baseCard__header-title-container"
                    ><span
                      class="slds-truncate slds-var-m-right_xx-small"
                      title={listName}
                      >{listLabel}</span
                    ><span
                      class="slds-shrink-none slds-var-m-right_xx-small"
                      title={count}
                      >({count})</span
                    >
                  </span>
                </h2>
              </div>
            </div>
            <p
              class="slds-page-header__name-meta slds-grid slds-grid_vertical-align-center slds-wrap"
              if:false={zeroCount}
            >
              <template for:each={metaStrings} for:item="metaString">
                <span key={metaString}>{metaString}</span>
              </template>
            </p>
            <!-- <p
              class="slds-page-header__name-meta slds-grid slds-grid_vertical-align-center"
              if:true={reasonForNewModal}
            >
              <span class="slds-p-right_small"
                >New records cannot be created inline</span
              >
              <lightning-helptext
                content={reasonForNewModal}
              ></lightning-helptext>
            </p> -->
          </div>
        </div>
      </div>
      <div class="slds-page-header__col-actions">
        <div class="slds-page-header__controls">
          <div class="slds-page-header__control">
            <lightning-button-menu
              alternative-text="Show menu"
              variant="border-filled"
              icon-name="utility:settings"
              if:false={zeroCount}
              onselect={resetColumnWidths}
            >
              <!-- <lightning-menu-subheader
                label="LIST VIEW CONTROLS"
              ></lightning-menu-subheader> -->
              <lightning-menu-item
                value="reset"
                label="Reset Column Widths"
              ></lightning-menu-item>
            </lightning-button-menu>
            <lightning-button-icon
              alternative-text="Refresh Records"
              variant="border-filled"
              icon-name="utility:refresh"
              onclick={refreshRecords}
              class="slds-var-m-left_small"
            ></lightning-button-icon>
          </div>
          <div class="slds-page-header__control">
            <lightning-button-group>
              <lightning-button
                label="Expand"
                onclick={displayEditModal}
                if:true={allowEditModal}
              ></lightning-button>
              <lightning-button
                label="New"
                onclick={newRecord}
              ></lightning-button>
            </lightning-button-group>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
